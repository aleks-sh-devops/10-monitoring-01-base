# Домашнее задание к занятию "13.Введение в мониторинг"

## Обязательные задания

1. Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя 
платформу для вычислений с выдачей текстовых отчетов, которые сохраняются на диск. Взаимодействие с платформой 
осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы
выведите в мониторинг и почему?  
**Ответ:**  
Вообще я бы поставил на мониторинг CPU чтобы была возможность прослеживать время нагрузки и делать выводы + по мере роста популярности приложения нужно отслеживать просадку в целом, чтобы планировать мощности серверов для нашего сервиса.  Также имеет смысл мониторить проект по оперативной памяти, т.к. она также учувствует в вычислениях совместно с процессором, и ее нехватка напрямую влияет на скорость работы приложения. Еще нужно отслеживать деградацию дисков, поэтому метрики скорости записи и чтения на диск нужно отслеживать + загрузку диска, поскольку чем больше заполнен, например, ссд накопитель тем медленней становится. Ну и разумеется про само приложение забывать не стоит. Это коды http, количество этих запросов, время ответа. Можно еще, как вариант, поставить на мониторинг сеть, чтобы она не стала узким горлышком. Это нагрузка на канал и ошибки на сетевом интерфейсе.  

2. Менеджер продукта посмотрев на ваши метрики сказал, что ему непонятно что такое RAM/inodes/CPUla. Также он сказал, 
что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы 
можете ему предложить?  
**Ответ:**  
Метрики SLO, SLA и SLI в помощь!  
Для начала необходимо явно или неявно заключить соглашение об уровне обслуживания (SLA). В нем необходимо договориться об уровне качества (SLO), то есть в каких границах должны лежать те или иные значения. И уже по показаниям индикатора качества той или иной метрики SLI можно говорить соблюдаем ли мы договор, не выходит ли она за установленные ранее границы и соответственно не теряет ли бизнес из-за этого деньги.  

3. Вашей DevOps команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики в свою 
очередь хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации, 
чтобы разработчики получали ошибки приложения?  
**Ответ:**  
Есть множество разных вариантов. Зависит от задачи, поскольку мониторинг ради мониторинга не имеет смысла. Например, один из простейших приложений сбора логов - syslog-ng. Также есть такие продукты, как graylog и различные вариации елки с заменой различных компанентов на OpenSearch, Vector, Clickhouse, Fluentd, Grafana, Loki образуя по-сути уже новые системы. Для мониторинга ошибок frontent также есть такой продукт, как Sentry.  

4. Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA=99% по http кодам ответов. 
Вычисляете этот параметр по следующей формуле: summ_2xx_requests/summ_all_requests. Данный параметр не поднимается выше 
70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?  
**Ответ:**  
Вероятней всего, в формуле не учтены коды перенаправления 300 (когда сайт переехал, например).
